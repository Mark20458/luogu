# [P1026](https://www.luogu.com.cn/problem/P1026 "试题")

## **【题目大意】**

给一个字符串 str，将其划分为 k 个部分，使得包含的单词数量最多，其中包含的单词在 str 上的第一个字母不在同一个位置，\
例如：现在有单词 th、this 和 his，str 是 this，str 中只能同时存在 th 和 his 或者 this 和 his。

### **【动态规划方法】**

1、定义数组：

```
sum[i][j]:字符串i到j的单词总数量
dp[i][j]:字符串从0到i划分为j块能得到的最大单词数量
```

2、sum[i][j] 的状态转移方程：

```
j>=i且存在以i为首字母的单词时:
sum[i][j]=sum[i+1][j]+1;
j>=i且不存在以i为首字母的单词时:
sum[i][j]=sum[i+1][j];
j<i:
sum[i][j]=0;
```

3、dp[i][j] 状态转移方程：

```
j=1：
dp[i][1]=sum[0][i];
i=j:
dp[i][j]=dp[i-1][j-1]+sum[i][j];
上两种情况用于初始化；
j>1:
选取l为断点，0<l<i,从0开始遍历l
dp[i][j]=max{dp[l][j-1]+sum[l+1][i],dp[i][j]};
```

_4、最后输出 dp[p\*20][k];_

### **【需要使用到的 string 函数】**

> s.find(a) 在 s 中查找字符串 a,并返回起始下标（从 0 开始），若不存在，返回 1844674407370955161，即（1999999999999999）\
> s.substr(x,len) 在 s 中取出从 x 位置开始，长度为 len 的字符串，并返回 string 类型的字符串。
